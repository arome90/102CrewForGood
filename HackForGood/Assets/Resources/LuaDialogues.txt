local conver = getvar(flowchart, "stage")
local c = conver.value

if c == "stage" then --Dialog #1
    -- Show alberto's portrait, appearing on the left
    stage.show(alberto, "alberto0", "CustomLeft", "CustomLeft")

    -- Show mama's portrait, appearing on the right
    stage.show(mama, "mama1", "CustomRight", "CustomRight")

    --Dialog between alberto and mama
    -- If <intro>: next dialog
    conversation [[
    alberto: Hola mama
    mama: Hola Alberto. Frase larga para ver que pasa cuando llega al final del cuadro de texto y saber si sigue bien blebleble.
    mama: ¡A BAILAR!
    ]]

    -- Hide alberto, moving to de left edge
    stage.hide(alberto, "CustomLeft")

    -- Hide mama, moving to de right edge
    stage.hide(mama, "CustomRight")
end

if c == "stage2" then --Dialog #2
    --Pruebas stage2
    -- Show mama's portrait, appearing from left edge and standing on the left
    stage.show(mama, "mama1", "offscreen left", "left")

    -- Show alberto's portrait, appearing from right edge and standing on the right
    stage.show(alberto, "alberto0", "offscreen right", "right")

    --Dialog between alberto and mama
    conversation [[
    mama: Hola hijo de la segunda escena
    alberto: Hola clon de mama
    mama: Tócala otra vez Sam
    ]]

    -- Hide mama, moving to de left edge
    stage.hide(mama, "offscreen left")

    -- Hide alberto, moving to de right edge
    stage.hide(alberto, "offscreen right")
end